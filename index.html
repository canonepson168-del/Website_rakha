<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Cikal Motor — Produk</title>
  <style>
    :root{
      --bg-1:#0a0f14; --bg-2:#0f1c29; --bg-3:#06121a;
      --glass: rgba(255,255,255,0.06);
      --card-border: rgba(255,255,255,0.12);
      --accent: #23d7ff; --accent-2:#3b82f6;
      --muted:#9aa4b2; --radius:14px; --gap:18px;
      --maxw:1100px;
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;min-height:100vh;background:linear-gradient(135deg,var(--bg-1),var(--bg-2),var(--bg-3));color:#e6eef6;padding:36px;display:flex;justify-content:center}

    .wrap{width:100%;max-width:var(--maxw);}
    header{display:flex;flex-direction:column;align-items:center;text-align:center;gap:16px;margin-bottom:40px}
    .logo{width:64px;height:64px;background:linear-gradient(135deg,#071122,#09202b);border-radius:12px;display:flex;align-items:center;justify-content:center;font-weight:800;color:var(--accent);font-size:18px;box-shadow:0 8px 30px rgba(2,6,23,0.6)}
    h1{margin:0;font-size:22px}
    p.lead{margin:0;color:var(--muted)}

    /* toolbar */
    .toolbar{display:flex;gap:12px;align-items:center;margin:16px 0 8px}
    .search{flex:1;min-width:180px;padding:12px 14px;border-radius:12px;border:1px solid rgba(255,255,255,0.06);background:rgba(0,0,0,0.25);color:#fff}
    .btn-primary{padding:10px 16px;border-radius:12px;border:none;background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#02101a;font-weight:700;cursor:pointer}
    .btn-ghost{padding:10px 14px;border-radius:12px;border:1px solid rgba(255,255,255,0.06);background:transparent;color:#fff;cursor:pointer}

    /* grid */
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:var(--gap);margin-top:8px}

    .card{background:rgba(255,255,255,0.04);border-radius:var(--radius);overflow:hidden;box-shadow:0 8px 30px rgba(2,6,23,0.6);transition:transform .32s ease,box-shadow .32s ease;border:1px solid var(--card-border);backdrop-filter:blur(8px)}
    .card:hover{transform:translateY(-8px);box-shadow:0 18px 40px rgba(2,6,23,0.7);border-color:var(--accent)}
    .thumb{position:relative;padding-top:58%;background-size:cover;background-position:center;cursor:pointer}
    .card-body{padding:14px}
    .title{font-weight:700;margin-bottom:6px}
    .meta{font-size:13px;color:var(--muted);display:flex;justify-content:space-between;align-items:center}
    .price{background:linear-gradient(90deg,var(--accent),var(--accent-2));padding:6px 10px;border-radius:999px;font-weight:700;color:#02101a}

    /* modal gallery */
    .modal{position:fixed;inset:0;background:linear-gradient(180deg, rgba(2,6,23,0.7), rgba(2,6,23,0.88));display:none;align-items:center;justify-content:center;padding:28px;z-index:60}
    .modal.open{display:flex}
    .modal-inner{width:min(980px,96%);background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:16px;padding:18px;box-shadow:0 30px 80px rgba(2,6,23,0.7);display:grid;grid-template-columns:1fr 140px;gap:12px;border:1px solid var(--card-border);backdrop-filter:blur(8px)}
    .viewer{position:relative;border-radius:12px;overflow:hidden;background:#06111a;display:flex;align-items:center;justify-content:center}
    .viewer img{max-width:100%;max-height:70vh;display:block}

    .thumb-list{overflow:auto;padding:8px;border-radius:10px;background:transparent}
    .thumb-item{display:flex;gap:8px;align-items:center;padding:8px;border-radius:8px;cursor:pointer;margin-bottom:8px;border:1px solid transparent}
    .thumb-item.active{outline:2px solid rgba(255,255,255,0.06);background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent)}
    .thumb-item img{width:100%;height:72px;object-fit:cover;border-radius:8px}
    .thumb-item .tmeta{font-size:13px;margin-left:6px}

    .controls{position:absolute;display:flex;gap:8px}
    .controls .nav{background:rgba(0,0,0,0.45);padding:8px 10px;border-radius:10px;color:#fff;border:1px solid rgba(255,255,255,0.04);cursor:pointer}
    .close{position:absolute;right:14px;top:14px}

    /* responsive */
    @media (max-width:720px){
      .modal-inner{grid-template-columns:1fr}
      .thumb-list{display:flex;flex-direction:row;gap:8px}
      .thumb-item{min-width:120px;margin-bottom:0}
    }

    .caption{font-size:13px;color:var(--muted);margin-top:12px}

    /* form modal */
    .form-card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:20px;border-radius:14px;border:1px solid var(--card-border);box-shadow:0 8px 30px rgba(0,0,0,0.5)}
    .input{width:100%;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.06);background:transparent;color:#fff}

  </style>
</head>
<body>
  <div class="wrap">
    <header>
      
      <div style="text-align:center; margin-top:10px;"><h1>CIKAL MOTOR — Pilihan Motor Bekas & Terjangkau</h1>
        <p class="lead">Klik Foto Untuk Melihat Koleksi Motor.</p>
      </div>
    </header>

    <div class="toolbar">
      <input id="filterInput" class="search" type="text" placeholder="Cari motor (mis. Beat, NMAX)...">
      <button id="contactBtn" class="btn-primary">Hubungi CS</button>
    </div>

    <div class="grid" id="products">
      <!-- cards populated by JS -->
    </div>

    <center><p class="caption">CIKAL MOTOR 2025</p></center>
  </div>

  <!-- modal gallery -->
  <div class="modal" id="modal" aria-hidden="true">
    <div class="modal-inner" role="dialog" aria-modal="true">
      <div class="viewer">
        <button class="btn close" id="closeBtn" title="Tutup">✕</button>
        <img id="mainImage" src="" alt="Foto motor">
        <div class="controls" style="left:12px;top:12px;position:absolute">
          <div class="nav" id="prev">◀</div>
        </div>
        <div class="controls" style="right:12px;top:12px;position:absolute">
          <div class="nav" id="next">▶</div>
        </div>
      </div>
      <div class="thumb-list" id="thumbs" tabindex="0" aria-label="Galeri gambar">
        <!-- thumbnails by JS -->
      </div>
    </div>
  </div>

  <script>
  // wrap all interactive code to ensure DOM is loaded
  document.addEventListener('DOMContentLoaded', () => {
    // sample products (replace image URLs as needed)
    const products = [
      {id:11,title:'Honda Beat 2019',price:'12.500.000',cover:'https://www.hondacengkareng.com/new-honda-beat-esp-dan-new-honda-beat-street-esp-mendapatkan-penyegaran-tampilan/',images:[
        'https://images.unsplash.com/photo-1589467086762-3b48f7e1c6de?q=80&w=1200',
        'https://images.unsplash.com/photo-1523413651479-597eb2da0ad6?q=80&w=1200',
        'https://images.unsplash.com/photo-1503736334956-4c8f8e92946d?q=80&w=1200',
        'https://images.unsplash.com/photo-1516981879613-9f5da904015f?q=80&w=1200'
      ]},
      {id:2,title:'Yamaha NMAX 2018',price:'22.750.000',cover:'https://images.unsplash.com/photo-1502877338535-766e1452684a?q=80&w=800',images:[
        'https://images.unsplash.com/photo-1502877338535-766e1452684a?q=80&w=1200',
        'https://images.unsplash.com/photo-1472396961693-142e6e269027?q=80&w=1200',
        'https://images.unsplash.com/photo-1468070454955-c5b6932bd08d?q=80&w=1200',
        'https://images.unsplash.com/photo-1523413651479-597eb2da0ad6?q=80&w=1200'
      ]},
      {id:3,title:'Suzuki Satria 2016',price:'10.300.000',cover:'https://images.unsplash.com/photo-1518552718880-df7e97b21f62?q=80&w=800',images:[
        'https://images.unsplash.com/photo-1518552718880-df7e97b21f62?q=80&w=1200',
        'https://images.unsplash.com/photo-1523413651479-597eb2da0ad6?q=80&w=1200',
        'https://images.unsplash.com/photo-1503736334956-4c8f8e92946d?q=80&w=1200',
        'https://images.unsplash.com/photo-1472396961693-142e6e269027?q=80&w=1200'
      ]},
      {id:4,title:'Kawasaki Ninja 2016',price:'20.300.000',cover:'https://images.unsplash.com/photo-1502872364588-894d7d6ddfab?q=80&w=800',images:[
        'https://images.unsplash.com/photo-1502872364588-894d7d6ddfab?q=80&w=1200',
        'https://images.unsplash.com/photo-1468070454955-c5b6932bd08d?q=80&w=1200',
        'https://images.unsplash.com/photo-1503736334956-4c8f8e92946d?q=80&w=1200',
        'https://images.unsplash.com/photo-1523413651479-597eb2da0ad6?q=80&w=1200'
      ]},
      {id:5,title:'Honda CRF 2016',price:'37.300.000',cover:'https://images.unsplash.com/photo-1518552718880-df7e97b21f62?q=80&w=800',images:[
        'https://images.unsplash.com/photo-1518552718880-df7e97b21f62?q=80&w=1200',
        'https://images.unsplash.com/photo-1503736334956-4c8f8e92946d?q=80&w=1200',
        'https://images.unsplash.com/photo-1472396961693-142e6e269027?q=80&w=1200',
        'https://images.unsplash.com/photo-1523413651479-597eb2da0ad6?q=80&w=1200'
      ]}
    ];

    const grid = document.getElementById('products');
    const modal = document.getElementById('modal');
    const mainImage = document.getElementById('mainImage');
    const thumbs = document.getElementById('thumbs');
    const closeBtn = document.getElementById('closeBtn');
    const prevBtn = document.getElementById('prev');
    const nextBtn = document.getElementById('next');

    const filterInput = document.getElementById('filterInput');
    const contactBtn = document.getElementById('contactBtn');
    const buyBtn = document.getElementById('buyBtn');
    const formModal = document.getElementById('formModal');

    let currentGallery = [];
    let currentIndex = 0;

    function renderCards(){
      grid.innerHTML = '';
      products.forEach(p=>{
        const card = document.createElement('article'); card.className='card';
        card.innerHTML = `
          <div class="thumb" role="button" tabindex="0" aria-label="${p.title} - buka galeri" style="background-image:url(${p.cover})" data-id="${p.id}"></div>
          <div class="card-body">
            <div class="title">${p.title}</div>
            <div class="meta"><div class="muted">ID: ${p.id}</div><div class="price">Rp ${p.price}</div></div>
          </div>
        `;
        grid.appendChild(card);
      });
    }

    function populateThumbs(){
      thumbs.innerHTML='';
      currentGallery.forEach((src,i)=>{
        const item = document.createElement('div'); item.className='thumb-item'; item.dataset.index=i;
        item.innerHTML = `<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAACAAAAAMuCAYAAACNBuOMAAAQAElEQVR4AeydB3wUVdeHSXY3WQhBQCCQtilLMYiiiCCgYG/Ye++K"+ "" alt="gambar ${i+1}"><div class="tmeta">Gambar ${i+1}</div>`;
        item.addEventListener('click',()=>{showImage(i)});
        thumbs.appendChild(item);
      });
    }

    function showImage(i){
      if(!currentGallery || currentGallery.length===0) return;
      if(i<0) i = currentGallery.length-1;
      if(i>=currentGallery.length) i = 0;
      currentIndex = i;
      mainImage.src = currentGallery[i];
      Array.from(thumbs.children).forEach((ch,idx)=>{
        ch.classList.toggle('active', idx===i);
      });
      const active = thumbs.querySelector('.thumb-item.active');
      if(active) active.scrollIntoView({behavior:'smooth',inline:'center'});
    }

    function openGallery(images, start=0){
      currentGallery = images || [];
      currentIndex = start || 0;
      populateThumbs();
      showImage(currentIndex);
      modal.classList.add('open'); modal.setAttribute('aria-hidden','false');
      document.body.style.overflow='hidden';
    }

    function closeGallery(){
      modal.classList.remove('open'); modal.setAttribute('aria-hidden','true');
      document.body.style.overflow='';
      // clear main image to free memory
      try{ mainImage.src=''; }catch(e){}
    }

    // events: grid delegation
    grid.addEventListener('click', (e)=>{
      const t = e.target.closest('.thumb');
      if(!t) return;
      const id = Number(t.dataset.id);
      const p = products.find(x=>x.id===id);
      if(p) openGallery(p.images,0);
    });

    grid.addEventListener('keydown', (e)=>{
      if(e.key==='Enter'){
        const t = e.target.closest('.thumb');
        if(t) t.click();
      }
    });

    // wire modal controls (guard for nulls)
    if(closeBtn) closeBtn.addEventListener('click', closeGallery);
    if(modal) modal.addEventListener('click', (e)=>{ if(e.target===modal) closeGallery(); });
    if(prevBtn) prevBtn.addEventListener('click', ()=>showImage(currentIndex-1));
    if(nextBtn) nextBtn.addEventListener('click', ()=>showImage(currentIndex+1));

    // keyboard navigation
    document.addEventListener('keydown', (e)=>{
      if(modal.classList.contains('open')){
        if(e.key==='ArrowLeft') showImage(currentIndex-1);
        if(e.key==='ArrowRight') showImage(currentIndex+1);
        if(e.key==='Escape') closeGallery();
      }
    });

    // filter
    if(filterInput){
      filterInput.addEventListener('input',()=>{
        const q = filterInput.value.toLowerCase();
        const cards = document.querySelectorAll('#products .card');
        cards.forEach(c=>{
          const titleEl = c.querySelector('.title');
          const title = titleEl ? titleEl.textContent.toLowerCase() : '';
          c.style.display = title.includes(q) ? '' : 'none';
        });
      });
    }

    // contact
    if(contactBtn){
      contactBtn.addEventListener('click',()=>{
        // default WA number -- change as needed
        window.open('https://wa.me/088965477852?text=Halo%20Admin%20Cikal%20Motor,%20saya%20ingin%20bertanya','_blank');
      });
    }

    // form modal
    if(buyBtn && formModal){
      buyBtn.addEventListener('click',()=>{
        formModal.classList.add('open');
        formModal.setAttribute('aria-hidden','false');
        document.body.style.overflow='hidden';
      });
      const closeFormBtn = document.getElementById('closeForm');
      if(closeFormBtn) closeFormBtn.addEventListener('click',()=>{ formModal.classList.remove('open'); formModal.setAttribute('aria-hidden','true'); document.body.style.overflow=''; });

      // send form
      const kirim = document.getElementById('kirimForm');
      if(kirim){
        kirim.addEventListener('click',()=>{
          const nama = document.getElementById('fNama') ? document.getElementById('fNama').value : '';
          const wa = document.getElementById('fWa') ? document.getElementById('fWa').value : '';
          const produk = document.getElementById('fProduk') ? document.getElementById('fProduk').value : '';
          const text = encodeURIComponent(`Halo Admin Cikal Motor,%0ASaya: ${nama}%0ANo WA: ${wa}%0AMinat: ${produk}`);
          window.open(`https://wa.me/088965477852?text=${text}`,'_blank');
        });
      }
    }

    // initial render
    renderCards();
  });
  
// Added validation + POST
function validateAndSubmitForm() {
  const name=document.getElementById('buyerName');
  const phone=document.getElementById('buyerPhone');
  const error=document.getElementById('formError');
  error.textContent="";
  if(!name.value.trim()){error.textContent="Nama tidak boleh kosong.";return;}
  const phonePattern=/^(08\d{8,12}|62\d{8,12})$/;
  if(!phonePattern.test(phone.value.trim())){error.textContent="Nomor WhatsApp tidak valid.";return;}
  fetch('https://example.com/api/order',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({name:name.value.trim(),phone:phone.value.trim(),product:'Selected Product'})})
  .then(function(r){return r.json();})
  .then(function(){alert('Pesanan berhasil dikirim!');})
  .catch(function(){error.textContent='Gagal mengirim data ke server.';});
}
</script>
</body>
</html>
